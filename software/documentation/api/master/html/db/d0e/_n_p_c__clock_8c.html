<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>NPSC: NPC_clock.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NPSC
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">NeoPixel Sunrise Clock</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('db/d0e/_n_p_c__clock_8c.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">NPC_clock.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file provides firmware functions to manage the Date, Time and Alarm of the NPC clock.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="../../de/d02/_n_p_c__clock_8h_source.html">../inc/NPC_clock.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for NPC_clock.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d99/_n_p_c__clock_8c__incl.png" border="0" usemap="#_n_p_c__clock_8c" alt=""/></div>
<map name="_n_p_c__clock_8c" id="_n_p_c__clock_8c">
<area shape="rect" id="node2" href="../../de/d02/_n_p_c__clock_8h.html" title="This file contains all the functions prototypes for the clock firmware library used for the NPC..." alt="" coords="191,80,324,107"/>
<area shape="rect" id="node3" href="../../d7/da2/_n_p_c__utils_8h.html" title="This file contains all the utility functions prototypes used by the NPC. " alt="" coords="211,155,304,181"/>
</map>
</div>
</div>
<p><a href="../../db/d0e/_n_p_c__clock_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga78ab77b57cf2e00089f0a3a22508524c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d06/group___clock___init.html#ga78ab77b57cf2e00089f0a3a22508524c">clock_init</a> (void)</td></tr>
<tr class="memdesc:ga78ab77b57cf2e00089f0a3a22508524c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the clock to 1Hz and setup peripherals for Alarm.  <a href="../../dd/d06/group___clock___init.html#ga78ab77b57cf2e00089f0a3a22508524c">More...</a><br /></td></tr>
<tr class="separator:ga78ab77b57cf2e00089f0a3a22508524c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf16498fa2702bfda6b89a3335ccc7ca6"><td class="memItemLeft" align="right" valign="top">ErrorStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dbe/group___clock___time___date.html#gaf16498fa2702bfda6b89a3335ccc7ca6">clock_setDate</a> (uint8_t weekDay, uint8_t month, uint8_t date, uint8_t year)</td></tr>
<tr class="memdesc:gaf16498fa2702bfda6b89a3335ccc7ca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the clock's date.  <a href="../../de/dbe/group___clock___time___date.html#gaf16498fa2702bfda6b89a3335ccc7ca6">More...</a><br /></td></tr>
<tr class="separator:gaf16498fa2702bfda6b89a3335ccc7ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11404197d58ddf6b46230bcde4282ef2"><td class="memItemLeft" align="right" valign="top">ErrorStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dbe/group___clock___time___date.html#ga11404197d58ddf6b46230bcde4282ef2">clock_setTime</a> (uint8_t am_pm, uint8_t hours, uint8_t minutes, uint8_t second)</td></tr>
<tr class="memdesc:ga11404197d58ddf6b46230bcde4282ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the clock's time.  <a href="../../de/dbe/group___clock___time___date.html#ga11404197d58ddf6b46230bcde4282ef2">More...</a><br /></td></tr>
<tr class="separator:ga11404197d58ddf6b46230bcde4282ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb4d72928cb3d131d40067fb141003aa"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dbe/group___clock___time___date.html#gabb4d72928cb3d131d40067fb141003aa">clock_getDate</a> (void)</td></tr>
<tr class="memdesc:gabb4d72928cb3d131d40067fb141003aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the date encoded in a 32b format.  <a href="../../de/dbe/group___clock___time___date.html#gabb4d72928cb3d131d40067fb141003aa">More...</a><br /></td></tr>
<tr class="separator:gabb4d72928cb3d131d40067fb141003aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03ae6948083c259f6edc0b146f40dc62"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dbe/group___clock___time___date.html#ga03ae6948083c259f6edc0b146f40dc62">clock_getTime</a> (void)</td></tr>
<tr class="memdesc:ga03ae6948083c259f6edc0b146f40dc62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the time encoded in a 32b format.  <a href="../../de/dbe/group___clock___time___date.html#ga03ae6948083c259f6edc0b146f40dc62">More...</a><br /></td></tr>
<tr class="separator:ga03ae6948083c259f6edc0b146f40dc62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e1614dbb1a210106dbade3f133db27e"><td class="memItemLeft" align="right" valign="top">RTC_AlarmTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dcf/group___clock___alarms.html#ga5e1614dbb1a210106dbade3f133db27e">clock_createAlarm</a> (uint8_t am_pm, uint8_t hours, uint8_t minutes, uint8_t seconds, uint32_t dateWeekDaySel, uint8_t dateWeekDay, uint32_t repeat)</td></tr>
<tr class="memdesc:ga5e1614dbb1a210106dbade3f133db27e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an Alarm Structure given all the parameters.  <a href="../../d9/dcf/group___clock___alarms.html#ga5e1614dbb1a210106dbade3f133db27e">More...</a><br /></td></tr>
<tr class="separator:ga5e1614dbb1a210106dbade3f133db27e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab56f512746d4f2638232db28bb7dac2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dcf/group___clock___alarms.html#gab56f512746d4f2638232db28bb7dac2b">clock_setA</a> (RTC_AlarmTypeDef *Alarm)</td></tr>
<tr class="memdesc:gab56f512746d4f2638232db28bb7dac2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an alarm to RTC_Alarm_A, given a Alarm structure RTC_AlarmTypeDef.  <a href="../../d9/dcf/group___clock___alarms.html#gab56f512746d4f2638232db28bb7dac2b">More...</a><br /></td></tr>
<tr class="separator:gab56f512746d4f2638232db28bb7dac2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea1a099c4ad6de8b99517ac6453e3569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dcf/group___clock___alarms.html#gaea1a099c4ad6de8b99517ac6453e3569">clock_setAlarm</a> (uint8_t am_pm, uint8_t hours, uint8_t minutes, uint8_t seconds, uint32_t dateWeekDaySel, uint8_t dateWeekDay, uint32_t repeat)</td></tr>
<tr class="memdesc:gaea1a099c4ad6de8b99517ac6453e3569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an alarm to RTC_Alarm_A, given all the alarm parameters.  <a href="../../d9/dcf/group___clock___alarms.html#gaea1a099c4ad6de8b99517ac6453e3569">More...</a><br /></td></tr>
<tr class="separator:gaea1a099c4ad6de8b99517ac6453e3569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4da4fb52ec579671d337938e78f9a207"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dcf/group___clock___alarms.html#ga4da4fb52ec579671d337938e78f9a207">RTC_Alarm_IRQHandler</a> (void)</td></tr>
<tr class="memdesc:ga4da4fb52ec579671d337938e78f9a207"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alarm Handler.  <a href="../../d9/dcf/group___clock___alarms.html#ga4da4fb52ec579671d337938e78f9a207">More...</a><br /></td></tr>
<tr class="separator:ga4da4fb52ec579671d337938e78f9a207"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gabd73cfb4bb5c20ec4524dd5fe244842b"><td class="memItemLeft" align="right" valign="top">RTC_InitTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/df2/group___clock.html#gabd73cfb4bb5c20ec4524dd5fe244842b">RTC_InitStruct</a></td></tr>
<tr class="separator:gabd73cfb4bb5c20ec4524dd5fe244842b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64d4fe2aa4668079f349f9eb97a48e35"><td class="memItemLeft" align="right" valign="top">RTC_AlarmTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/df2/group___clock.html#ga64d4fe2aa4668079f349f9eb97a48e35">RTC_AlarmStruct</a></td></tr>
<tr class="separator:ga64d4fe2aa4668079f349f9eb97a48e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf0f09eb6c46f0a7cc5f7736c709a8c77"><td class="memItemLeft" align="right" valign="top">EXTI_InitTypeDef&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/df2/group___clock.html#gaf0f09eb6c46f0a7cc5f7736c709a8c77">EXTI_InitStruct</a></td></tr>
<tr class="separator:gaf0f09eb6c46f0a7cc5f7736c709a8c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file provides firmware functions to manage the Date, Time and Alarm of the NPC clock. </p>
<dl class="section author"><dt>Author</dt><dd>Othniel Konan (Kojey) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>V1.1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>06-March-2017 <pre class="fragment"> ===================================================================
                  ##### Note on VBat and VDD #####
 ===================================================================
 [..]
    (+) Make sure that VBAT is connected to an external power supply
        otherwise RTC info will be lost on VDD power off.
        Ideally RTC info should be saved and loaded from an EEPROM or
        SD card to avoid lost

                  ##### How to use Clock Driver #####
 ===================================================================
 [..]
   (+) Initialize the Clock using clock_init()
   (+) Set the Date using clock_setDate(...)
   (+) Set the Time using clock_setTime(...)
   (+) Set the Alarm using clock_setAlarm(...)</pre></dd></dl>
<pre class="fragment">@attention

&lt;h2&gt;&lt;center&gt;&amp;copy; COPYRIGHT &lt;/center&gt;&lt;/h2&gt;</pre>
<p>Definition in file <a class="el" href="../../db/d0e/_n_p_c__clock_8c_source.html">NPC_clock.c</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="../../dir_226526df2a99aa6f4b18c103d706f7a7.html">master</a></li><li class="navelem"><a class="el" href="../../dir_dd310a4b0374f5c02fee7ec360d43f49.html">Libraries</a></li><li class="navelem"><a class="el" href="../../dir_98c6eb2e9ad759345c90794832a6e0e0.html">NPC</a></li><li class="navelem"><a class="el" href="../../dir_aa85fd412fb482375d63b87c2cf3aa40.html">Framework</a></li><li class="navelem"><a class="el" href="../../dir_def1e69c99eb615dec375120d363af55.html">src</a></li><li class="navelem"><a class="el" href="../../db/d0e/_n_p_c__clock_8c.html">NPC_clock.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
